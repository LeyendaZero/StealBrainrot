<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Fingerprint + IP Tracker</title>
</head>
<body>
  <h2>Recolector de Datos</h2>
  <pre id="output">Cargando datos...</pre>

  <script>
    async function recolectarDatos() {
      const info = {};

      // IP pública
      try {
        const ipData = await fetch('https://api.ipify.org?format=json');
        const ipJson = await ipData.json();
        info.IP = ipJson.ip;
      } catch (e) {
        info.IP = 'No se pudo obtener';
      }

      // Fingerprinting básico
      info['Idioma del navegador'] = navigator.language;
      info['Zona horaria'] = Intl.DateTimeFormat().resolvedOptions().timeZone;
      info['Resolución de pantalla'] = `${screen.width} x ${screen.height}`;
      info['User-Agent'] = navigator.userAgent;

      if (navigator.plugins.length > 0) {
        info['Plugins'] = Array.from(navigator.plugins).map(p => p.name).join(', ');
      } else {
        info['Plugins'] = 'Ninguno o bloqueados';
      }

      // Mostrar en pantalla
      const salida = Object.entries(info).map(([k, v]) => `${k}: ${v}`).join('\n');
      document.getElementById('output').innerText = salida;
    }

    recolectarDatos();
  </script>
</body>
</html>
